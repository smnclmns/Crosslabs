<!DOCTYPE html>
<html>
  
  <head>
    <meta charset="utf-8">
    <base target="_top">
    <title>Arduino Funktionen</title>

    <!--Hier wird der source code von Blockly geladen-->
    <script src="js/blockly_sourcecode/blockly_compressed.js"></script>
    <script src="js/blockly_sourcecode/blocks_compressed.js"></script>
    <script src="js/blockly_sourcecode/javascript_compressed.js"></script>
    <script src="js/blockly_sourcecode/en.js"></script>

    <!--Hier werden die benötigten Blöcke zum Erstellen aller Funktionen geladen-->
    <script src="js/blocks_definition/Blöcke_Definition_Code.js"></script>
    

    <!--Hier wird das stylesheet geladen-->
    <link rel="stylesheet" href="assets/stylesheets/main.css">

  </head>

  <body >

    <h1>Crosslabs</h1>

    <table>
      <thead>
        <tr>
          <th scope="col">Workspace</th>
          <th scope="col">Terminal</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <button id="Setup" class="button button2" onclick="myFunction1()">Void Setup</button>
            <button id="Loop" class="button button3" onclick="myFunction2()">Void Loop</button>
            <button id="Functions" class="button button4" onclick="myFunction3()" >Void Function</button>

            <a id="Setup1" href="Crosslabs_Setup.html"></a>

            <a id="Loop1" href="Crosslabs_Loop.html"></a>

            <a id="Function1" href="Crosslabs_Function.html"></a>
          </td>
          <td>
            
          </td>
        </tr>
        <tr>
          <td id="blocklyArea"></td>
          <td id="Terminal">
            <div class="container">
              <p class="terminal_item">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. 
                Numquam perspiciatis eaque, pariatur doloribus eos, quos 
                laboriosam ipsum nemo itaque quis veniam voluptatum est ea
                nisi. Unde explicabo harum excepturi deserunt.
              </p>
              <div class="terminal_item">
                <img src="assets/images/Crosslabs.jpg" alt="Versuchsaufbau">
              </div>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <button id="check" class="button button1" onclick="myFunction()">Check Code</button>
          </td>
        </tr>
      </tbody>
    </table>

<div id='blocklyDiv' style="position: absolute;"></div>

<script>
  var toolbox = {
      "kind":"flyoutToolbox",
      "contents":[
        {
          "kind":"block",
          "type":"controls_if"
        },
        {
          "kind":"block",
          "type":"logic_compare"
        },
        {
          "kind":"block",
          "type":"controls_repeat_ext"
        },
        {
          "kind":"block",
          "type":"math_number",
          "fields":{
            "NUM":123
          }
        },
        {
          "kind":"block",
          "type":"math_arithmetic"
        },
        {
          "kind":"block",
          "type":"text"
        },
        {
          "kind":"block",
          "type":"text_print"
        }
      ]
    }

  var blocklyArea = document.getElementById('blocklyArea');
  var blocklyDiv = document.getElementById('blocklyDiv');
  var demoWorkspace = Blockly.inject(blocklyDiv,
      {media: 'https://unpkg.com/blockly/media/',
       toolbox: toolbox});
  var onresize = function(e) {
    // Compute the absolute coordinates and dimensions of blocklyArea.
    var element = blocklyArea;
    var x = 0;
    var y = 0;
    do {
      x += element.offsetLeft;
      y += element.offsetTop;
      element = element.offsetParent;
    } while (element);
    // Position blocklyDiv over blocklyArea.
    blocklyDiv.style.left = x + 'px';
    blocklyDiv.style.top = y + 'px';
    blocklyDiv.style.width = blocklyArea.offsetWidth + 'px';
    blocklyDiv.style.height = blocklyArea.offsetHeight + 'px';
    Blockly.svgResize(demoWorkspace);

    console.log('resize');
  };
  window.addEventListener('resize', onresize, false);
  onresize();
</script>

<script>
  function myFunction() {
    document.getElementById("check").style.color = "white";
  } 
  function myFunction1() {
    document.getElementById('Setup1').click(); 
  }   
  function myFunction2(){
    document.getElementById('Loop1').click();
  }    
  function myFunction3(){
    document.getElementById('Function1').click();
  }
</script>